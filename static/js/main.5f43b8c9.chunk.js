(this.webpackJsonpkakurasu=this.webpackJsonpkakurasu||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(2),i=a.n(s),c=a(6),n=a.n(c),o=(a(14),a(3)),u=(a(15),a(1));function l(e){var t=e.viewState.playerBoard[e.row][e.col],a="";return a="*"===t?"piece piece-on":"x"===t?"piece piece-off":"piece piece-blank",Object(r.jsx)("div",{onClick:function(){e.onSquareClick(e.row,e.col)},className:"square square-".concat(e.size),children:Object(r.jsx)("div",{className:"piece ".concat(a)})})}function j(e){var t="";return e.i>0&&e.i<e.size+1?(t=e.i,Object(r.jsx)("div",{className:"square header-square square-".concat(e.size),children:t})):Object(r.jsx)("div",{onClick:e.toggleBoardMode,className:"square flipper-square header-square row-start-square square-".concat(e.size),children:"Flip"})}function d(e){if(e.i>0&&e.i<e.size+1){var t=e.viewState.colSums[e.i-1],a=e.viewState.targetColSums[e.i-1],s=e.viewState.antiColSums[e.i-1],i=a-t,c=e.viewState.antiTargetColSums[e.i-1]-s;return e.boardMode?Object(r.jsx)("div",{className:"square footer-square square-".concat(e.size),children:Object(r.jsx)("div",{className:"score-on",children:i})}):Object(r.jsx)("div",{className:"square footer-square square-".concat(e.size),children:Object(r.jsx)("div",{className:"score-off",children:c})})}return 0===e.i?Object(r.jsx)("div",{className:"square footer-square row-start-square square-".concat(e.size)}):Object(r.jsx)("div",{className:"square footer-square row-end-square square-".concat(e.size)})}function h(e){return Object(r.jsx)("div",{className:"square row-start-square square-".concat(e.size),children:e.i})}function b(e){var t=e.viewState.rowSums[e.row],a=e.viewState.targetRowSums[e.row],s=e.viewState.antiRowSums[e.row],i=a-t,c=e.viewState.antiTargetRowSums[e.row]-s;return e.boardMode?Object(r.jsx)("div",{className:"square row-end-square square-".concat(e.size),children:Object(r.jsx)("div",{className:"score-on",children:i})}):Object(r.jsx)("div",{className:"square row-end-square square-".concat(e.size),children:Object(r.jsx)("div",{className:"score-off",children:c})})}function m(e){return Object(r.jsxs)("div",{className:"square sigma-square row-end-square header-square square-".concat(e.size),children:["\u03a3",e.viewState.sigma]})}function v(e){for(var t=[],a=0;a<e.size+1;a++)t.push(Object(r.jsx)(j,Object(u.a)({i:a},e),"hs".concat(a)));return t.push(Object(r.jsx)(m,Object(u.a)({},e))),t}function f(e){for(var t=[],a=0;a<e.size+2;a++)t.push(Object(r.jsx)(d,Object(u.a)({i:a},e),"fs".concat(a)));return t}function O(e){for(var t=[Object(r.jsx)(v,Object(u.a)({},e),"headerSquares")],a=0;a<(e.size+2)*e.size;a++){var s=a%(e.size+2),i=(a-s)/(e.size+2);0===s?t.push(Object(r.jsx)(h,Object(u.a)({i:i+1},e),"rss".concat(a))):s===e.size+1?t.push(Object(r.jsx)(b,Object(u.a)({row:i},e),"res".concat(i))):t.push(Object(r.jsx)(l,Object(u.a)({i:a,row:i,col:s-1},e),"reg".concat(a)))}return[].concat(t,[Object(r.jsx)(f,Object(u.a)({},e),"footerSquares")])}function x(e){var t=Object(s.useState)(!0),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(r.jsx)("div",{className:"board",children:Object(r.jsx)(O,Object(u.a)(Object(u.a)({},e),{},{boardMode:i,toggleBoardMode:function(){c(!i)}}))})}var p=a(5),w=a.n(p);function S(e){for(var t=[],a=e.min;a<=e.max;a++)t.push(Object(r.jsxs)("option",{value:a,children:[a,"x",a]}));return t}function g(e){var t=w.a.get("defaultLevel")||6,a=Object(s.useState)(parseFloat(t)),c=Object(o.a)(a,2),n=c[0],u=c[1];return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)("select",{value:n,onChange:function(e){u(parseFloat(e.currentTarget.value)),w.a.set("defaultLevel",e.currentTarget.value)},children:Object(r.jsx)(S,{min:4,max:13})}),Object(r.jsx)("button",{onClick:function(){e.onNewGame(n)},children:"Play"})]})}function q(e){return Object(r.jsxs)("div",{className:"new-game-screen",children:[Object(r.jsx)("h1",{children:"New Game"}),Object(r.jsx)(g,Object(u.a)({},e))]})}function z(e){return Object(r.jsxs)("div",{className:"player-win-screen",children:[Object(r.jsx)("h1",{children:"YOU WIN!"}),Object(r.jsx)("h3",{children:"Again?"}),Object(r.jsx)(g,Object(u.a)({},e))]})}var y=a(7),B=a(8),N=function(){function e(t){Object(y.a)(this,e),this.size=t,this.initPlayerBoard(),this.initTargetBoard()}return Object(B.a)(e,[{key:"initTargetBoard",value:function(){this.targetBoard=[];for(var e=0;e<this.size;e++){for(var t=[],a=0;a<this.size;a++)Math.random()>.7?t.push("*"):t.push("x");this.targetBoard.push(t)}}},{key:"initPlayerBoard",value:function(){this.playerBoard=[];for(var e=0;e<this.size;e++){for(var t=[],a=0;a<this.size;a++)t.push("");this.playerBoard.push(t)}}},{key:"rowSums",value:function(e,t){for(var a=[],r=0;r<this.size;r++){for(var s=0,i=0;i<this.size;i++)this[e][r][i]===t&&(s+=i+1);a.push(s)}return a}},{key:"colSums",value:function(e,t){for(var a=[],r=0;r<this.size;r++){for(var s=0,i=0;i<this.size;i++)this[e][i][r]===t&&(s+=i+1);a.push(s)}return a}},{key:"checkWin",value:function(e){for(var t=0;t<e.size;t++){if(e.rowSums[t]!==e.targetRowSums[t])return!1;if(e.colSums[t]!==e.targetColSums[t])return!1;if(e.antiRowSums[t]!==e.antiTargetRowSums[t])return!1;if(e.antiColSums[t]!==e.antiTargetColSums[t])return!1}return!0}},{key:"export",value:function(){var e={size:this.size,sigma:this.size*(this.size+1)/2,playerBoard:this.playerBoard.map((function(e){return e.slice(0)})),rowSums:this.rowSums("playerBoard","*"),colSums:this.colSums("playerBoard","*"),antiRowSums:this.rowSums("playerBoard","x"),antiColSums:this.colSums("playerBoard","x"),targetRowSums:this.rowSums("targetBoard","*"),targetColSums:this.colSums("targetBoard","*"),antiTargetRowSums:this.rowSums("targetBoard","x"),antiTargetColSums:this.colSums("targetBoard","x")};return e.wonGame=this.checkWin(e),e}},{key:"debug",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"playerBoard",t=0;t<this.size;t++){for(var a=[],r=0;r<this.size;r++)a.push(this[e][t][r]);console.log(a)}}},{key:"toggleSquare",value:function(e,t){"*"===this.playerBoard[e][t]?this.playerBoard[e][t]="x":"x"===this.playerBoard[e][t]?this.playerBoard[e][t]="":""===this.playerBoard[e][t]&&(this.playerBoard[e][t]="*")}}]),e}();var k=function(){var e=Object(s.useState)(null),t=Object(o.a)(e,2),a=t[0],i=t[1],c=Object(s.useState)(null),n=Object(o.a)(c,2),u=n[0],l=n[1],j=function(e){var t=new N(e);i(t),l(t.export())};return window.gm=a,null===u?Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(q,{onNewGame:j})}):u.wonGame?Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(z,{viewState:u,onNewGame:j})}):Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(x,{size:u.size,onSquareClick:function(e,t){a.toggleSquare(e,t),a.debug(),l(a.export())},viewState:u})})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,17)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),i(e),c(e)}))};n.a.render(Object(r.jsxs)(i.a.StrictMode,{children:[Object(r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Texturina:wght@100&display=swap",rel:"stylesheet"}),Object(r.jsx)(k,{})]}),document.getElementById("root")),C()}},[[16,1,2]]]);
//# sourceMappingURL=main.5f43b8c9.chunk.js.map