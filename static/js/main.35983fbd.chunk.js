(this.webpackJsonpkakurasu=this.webpackJsonpkakurasu||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r(1),i=r.n(s),c=r(5),n=r.n(c),o=(r(13),r(3)),u=(r(14),r(2));function l(e){var t=e.viewState.playerBoard[e.row][e.col],r="";return r="*"===t?"piece piece-on":"x"===t?"piece piece-off":"piece piece-blank",Object(a.jsx)("div",{onClick:function(){e.onSquareClick(e.row,e.col)},className:"square square-".concat(e.size),children:Object(a.jsx)("div",{onClick:function(){e.onSquareClick(e.row,e.col)},className:"piece ".concat(r)})})}function j(e){var t="";return e.i>0&&e.i<e.size+1?(t=e.i,Object(a.jsx)("div",{className:"square header-square square-".concat(e.size),children:t})):Object(a.jsx)("div",{className:"square header-square square-".concat(e.size),children:t})}function h(e){if(e.i>0&&e.i<e.size+1){var t=e.viewState.colSums[e.i-1],r=e.viewState.targetColSums[e.i-1],s=e.viewState.antiColSums[e.i-1],i=r-t,c=e.viewState.antiTargetColSums[e.i-1]-s;return Object(a.jsxs)("div",{className:"square footer-square square-".concat(e.size),children:[Object(a.jsx)("div",{className:"score-on",children:i}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"score-off",children:c})]})}return Object(a.jsx)("div",{className:"square footer-square square-".concat(e.size)})}function d(e){return Object(a.jsx)("div",{className:"square row-start-square square-".concat(e.size),children:e.i})}function b(e){var t=e.viewState.rowSums[e.row],r=e.viewState.targetRowSums[e.row],s=e.viewState.antiRowSums[e.row],i=r-t,c=e.viewState.antiTargetRowSums[e.row]-s;return Object(a.jsxs)("div",{className:"square row-end-square square-".concat(e.size),children:[Object(a.jsx)("div",{className:"score-on",children:i}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"score-off",children:c})]})}function v(e){return Object(a.jsxs)("div",{className:"square header-square square-".concat(e.size),children:["\u03a3 ",e.viewState.sigma]})}function m(e){for(var t=[],r=0;r<e.size+1;r++)t.push(Object(a.jsx)(j,Object(u.a)({i:r},e),"hs".concat(r)));return t.push(Object(a.jsx)(v,Object(u.a)({},e))),t}function f(e){for(var t=[],r=0;r<e.size+2;r++)t.push(Object(a.jsx)(h,Object(u.a)({i:r},e),"fs".concat(r)));return t}function O(e){for(var t=[Object(a.jsx)(m,Object(u.a)({},e),"headerSquares")],r=0;r<(e.size+2)*e.size;r++){var s=r%(e.size+2),i=(r-s)/(e.size+2);0===s?t.push(Object(a.jsx)(d,Object(u.a)({i:i+1},e),"rss".concat(r))):s===e.size+1?t.push(Object(a.jsx)(b,Object(u.a)({row:i},e),"res".concat(i))):t.push(Object(a.jsx)(l,Object(u.a)({i:r,row:i,col:s-1},e),"reg".concat(r)))}return[].concat(t,[Object(a.jsx)(f,Object(u.a)({},e),"footerSquares")])}function x(e){return Object(a.jsx)("div",{className:"board",children:Object(a.jsx)(O,Object(u.a)({},e))})}function S(e){for(var t=[],r=e.min;r<=e.max;r++)t.push(Object(a.jsxs)("option",{value:r,children:[r,"x",r]}));return t}function w(e){var t=Object(s.useState)(5),r=Object(o.a)(t,2),i=r[0],c=r[1];return Object(a.jsxs)("div",{className:"new-game-screen",children:[Object(a.jsx)("h1",{children:"New Game Level "}),Object(a.jsx)("select",{value:i,onChange:function(e){c(parseFloat(e.currentTarget.value))},children:Object(a.jsx)(S,{min:2,max:13})}),Object(a.jsx)("button",{onClick:function(){e.onNewGame(i)},children:"Go!"})]})}function p(e){var t=Object(s.useState)(5),r=Object(o.a)(t,2);r[0],r[1];return Object(a.jsxs)("div",{className:"player-win-screen",children:[Object(a.jsx)("h1",{children:"YOU WIN!"}),Object(a.jsx)("h5",{children:"Again?"}),Object(a.jsx)("button",{onClick:e.onGotoNewGameClick,children:"One more game?"})]})}var g=r(6),z=r(7),q=function(){function e(t){Object(g.a)(this,e),this.size=t,this.initPlayerBoard(),this.initTargetBoard()}return Object(z.a)(e,[{key:"initTargetBoard",value:function(){this.targetBoard=[];for(var e=0;e<this.size;e++){for(var t=[],r=0;r<this.size;r++)Math.random()>.65?t.push("*"):t.push("x");this.targetBoard.push(t)}}},{key:"initPlayerBoard",value:function(){this.playerBoard=[];for(var e=0;e<this.size;e++){for(var t=[],r=0;r<this.size;r++)t.push("");this.playerBoard.push(t)}}},{key:"rowSums",value:function(e,t){for(var r=[],a=0;a<this.size;a++){for(var s=0,i=0;i<this.size;i++)this[e][a][i]===t&&(s+=i+1);r.push(s)}return r}},{key:"colSums",value:function(e,t){for(var r=[],a=0;a<this.size;a++){for(var s=0,i=0;i<this.size;i++)this[e][i][a]===t&&(s+=i+1);r.push(s)}return r}},{key:"checkWin",value:function(e){for(var t=0;t<e.size;t++){if(e.rowSums[t]!==e.targetRowSums[t])return!1;if(e.colSums[t]!==e.targetColSums[t])return!1}return!0}},{key:"export",value:function(){var e={size:this.size,sigma:this.size*(this.size+1)/2,playerBoard:this.playerBoard.map((function(e){return e.slice(0)})),rowSums:this.rowSums("playerBoard","*"),colSums:this.colSums("playerBoard","*"),antiRowSums:this.rowSums("playerBoard","x"),antiColSums:this.colSums("playerBoard","x"),targetRowSums:this.rowSums("targetBoard","*"),targetColSums:this.colSums("targetBoard","*"),antiTargetRowSums:this.rowSums("targetBoard","x"),antiTargetColSums:this.colSums("targetBoard","x")};return e.wonGame=this.checkWin(e),e}},{key:"debug",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"playerBoard",t=0;t<this.size;t++){for(var r=[],a=0;a<this.size;a++)r.push(this[e][t][a]);console.log(r)}}},{key:"toggleSquare",value:function(e,t){"*"===this.playerBoard[e][t]?this.playerBoard[e][t]="x":"x"===this.playerBoard[e][t]?this.playerBoard[e][t]="":""===this.playerBoard[e][t]&&(this.playerBoard[e][t]="*")}}]),e}();var y=function(){var e=Object(s.useState)(null),t=Object(o.a)(e,2),r=t[0],i=t[1],c=Object(s.useState)(null),n=Object(o.a)(c,2),u=n[0],l=n[1];return window.gm=r,null===u?Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(w,{onNewGame:function(e){var t=new q(e);i(t),l(t.export())}})}):u.wonGame?Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(p,{viewState:u,onGotoNewGameClick:function(){i(null),l(null)}})}):Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(x,{size:u.size,onSquareClick:function(e,t){r.toggleSquare(e,t),r.debug(),l(r.export())},viewState:u})})},B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,16)).then((function(t){var r=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),a(e),s(e),i(e),c(e)}))};n.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),B()}},[[15,1,2]]]);
//# sourceMappingURL=main.35983fbd.chunk.js.map